<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>BusMap HCM ‚Äî Tra c·ª©u tr·∫°m & tuy·∫øn</title>

    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>

    <!-- App styles -->
    <link rel="stylesheet" href="/static/styles.css" />
  </head>

  <body class="bg-city">
    <header class="topbar">
      <div class="container">
        <div class="brand">
          <div class="logo">üöå</div>
          <div class="title">BusMap HCM</div>
          <div class="small">Tra c·ª©u tr·∫°m & tuy·∫øn</div>
        </div>
        <div class="search">
          <div class="searchbox">
            <input id="globalSearch" placeholder="T√¨m TR·∫†M to√†n TP.HCM ho·∫∑c ƒë·ªãa ƒëi·ªÉm (v√≠ d·ª•: 'B·∫øn Th√†nh')‚Ä¶"/>
            <button id="searchBtn" aria-label="T√¨m">üîç</button>
          </div>
          <div class="modes">
            <button data-mode="stations" class="mode-btn active">Tr·∫°m</button>
            <button data-mode="routes" class="mode-btn">Tuy·∫øn</button>
          </div>
        </div>
        <div>
          <button id="locateMe" class="mode-btn" style="border: 1px solid var(--line)">üìç V·ªã tr√≠ c·ªßa t√¥i</button>
        </div>
      </div>
    </header>

    <main class="container grid">
      <section>
        <div id="panel-stations" class="card">
          <div class="card-header">
            <h3 style="margin:0">Tr·∫°m</h3>
            <span class="small">Ngu·ªìn: OpenStreetMap <span class="pill" id="masterCount">ƒëang n·∫°p‚Ä¶</span></span>
          </div>
          <div class="filter"><input id="stationFilter" placeholder="L·ªçc theo t√™n tr·∫°m (trong danh s√°ch b√™n d∆∞·ªõi)‚Ä¶"/></div>
          <div id="stationList" class="list"></div>
        </div>

        <div id="panel-routes" class="card hidden">
          <div class="card-header">
            <h3 style="margin:0">Danh s√°ch tuy·∫øn</h3>
            <span class="badge" id="routeCount">0</span>
          </div>
          <div class="filter"><input id="routeFilter" placeholder="T√¨m s·ªë tuy·∫øn / t√™n tuy·∫øn‚Ä¶"/></div>
          <div id="routeList" class="list"></div>
        </div>
      </section>

      <section>
        <div class="mapcard">
          <div id="map"></div>
          <div id="hint">Zoom ‚â• 14 ƒë·ªÉ n·∫°p marker theo khung nh√¨n ‚Ä¢ Gi·ªõi h·∫°n trong TP.HCM</div>
          <div id="loading">ƒêang t·∫£i tr·∫°m‚Ä¶</div>
          <div id="masterStatus">Ch·ªâ m·ª•c to√†n TP.HCM: <b id="masterProgress">0%</b></div>
          <div class="card-body small">
            K√©o/zoom b·∫£n ƒë·ªì ƒë·ªÉ t·ª± n·∫°p marker trong khung nh√¨n. B·∫•m üìç ƒë·ªÉ v·ªÅ v·ªã tr√≠ c·ªßa b·∫°n (c·∫ßn HTTPS ho·∫∑c localhost).
            √î t√¨m ki·∫øm lu√¥n tra tr√™n <b>t·∫•t c·∫£ tr·∫°m TP.HCM</b> ƒë√£ n·∫°p.
          </div>
        </div>
      </section>
    </main>

    <!-- Toast container -->
    <div id="toast" class="toast hidden"></div>

    <!-- App logic -->
    <script type="module" src="/static/main.js"></script>
  </body>
</html>
